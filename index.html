<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teste DISC – De Volta pro Jogo</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #EEF3F8;
      color: #38434F;
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
    }
    h1, h2 {
      text-align: center;
      color: #0A66C2;
    }
    .intro {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    .form-block {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
    }
    input, select {
      width: 100%;
      padding: 0.6rem;
      margin-bottom: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      display: block;
      margin: 2rem auto 0;
      background-color: #0A66C2;
      color: #fff;
      border: none;
      padding: 0.9rem 2rem;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
    }
    .result {
      background-color: #DFF6E0;
      border-left: 5px solid #28a745;
      padding: 1.5rem;
      margin-top: 2rem;
      border-radius: 12px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>Teste DISC – De Volta pro Jogo</h1>
  <div class="intro">
    <p>Este teste DISC ajuda você a identificar seu perfil comportamental predominante. Em cada bloco, escolha:</p>
    <ul>
      <li><strong>1 alternativa que MAIS combina com você</strong></li>
      <li><strong>1 alternativa que MENOS combina com você</strong></li>
    </ul>
  </div>

  <form id="discForm">
    <div class="form-block">
      <label>Nome completo:<br><input type="text" name="nome" required></label>
      <label>Email:<br><input type="email" name="email" required></label>
      <label>WhatsApp (com DDD):<br><input type="text" name="whatsapp" required></label>
    </div>
  </form>

  <button onclick="calcularPerfil()">Ver Resultado</button>
  <div class="result" id="resultado"></div>

  <script>
    const blocos = [
      ["Resolvo rápido os problemas", "Gosto de motivar as pessoas", "Sou paciente e tranquilo(a)", "Cuido dos detalhes com atenção"],
      ["Tomo decisões com facilidade", "Me comunico com facilidade", "Procuro apoiar os outros", "Sigo regras com precisão"],
      ["Sou competitivo(a)", "Sou otimista", "Evito conflitos", "Gosto de procedimentos"],
      ["Sou focado(a) em metas", "Faço amizades com facilidade", "Sou leal", "Sou analítico(a)"],
      ["Gosto de desafiar sistemas", "Gosto de conversar", "Sou emocionalmente estável", "Prezo pela organização"],
      ["Não temo riscos", "Me entroso fácil", "Faço o que me pedem", "Avalio os fatos"],
      ["Tomo iniciativa", "Gosto de ser notado(a)", "Sou calmo(a)", "Sou detalhista"],
      ["Lidero quando preciso", "Falo com entusiasmo", "Gosto de rotina", "Sigo processos"],
      ["Enfrento desafios", "Contagio com minha energia", "Valorizo a harmonia", "Prezo por exatidão"],
      ["Tenho senso de urgência", "Falo bastante", "Acolho as pessoas", "Sigo normas"],
      ["Gosto de estar no controle", "Gosto de influenciar", "Me adapto", "Analiso antes de opinar"],
      ["Sou determinado(a)", "Gosto de expor ideias", "Sigo uma rotina", "Reviso com calma"]
    ];

    const letras = ["D", "I", "S", "C"];

    function montarFormulario() {
      const form = document.getElementById("discForm");
      blocos.forEach((bloco, i) => {
        const div = document.createElement("div");
        div.className = "form-block";
        const title = document.createElement("p");
        title.innerHTML = `<strong>Bloco ${i + 1}</strong>`;
        div.appendChild(title);

        bloco.forEach((frase, j) => {
          const p = document.createElement("p");
          p.innerText = `${letras[j]}: ${frase}`;
          div.appendChild(p);
        });

        const maisSelect = document.createElement("select");
        maisSelect.name = `bloco${i}_mais`;
        maisSelect.innerHTML = `<option value="">Mais...</option>` + letras.map(l => `<option value="${l}">${l}</option>`).join('');
        div.appendChild(maisSelect);

        const menosSelect = document.createElement("select");
        menosSelect.name = `bloco${i}_menos`;
        menosSelect.innerHTML = `<option value="">Menos...</option>` + letras.map(l => `<option value="${l}">${l}</option>`).join('');
        div.appendChild(menosSelect);

        form.appendChild(div);
      });
    }

    function calcularPerfil() {
      const nome = document.querySelector("input[name='nome']").value.trim();
      const email = document.querySelector("input[name='email']").value.trim();
      const whatsapp = document.querySelector("input[name='whatsapp']").value.trim();

      if (!nome || !email || !whatsapp) {
        alert("Preencha todos os campos pessoais antes de enviar.");
        return;
      }

      const contagem = { D: 0, I: 0, S: 0, C: 0 };

      for (let i = 0; i < blocos.length; i++) {
        const mais = document.querySelector(`select[name='bloco${i}_mais']`).value;
        const menos = document.querySelector(`select[name='bloco${i}_menos']`).value;

        if (!mais || !menos) {
          alert(`Selecione uma opção Mais e Menos no Bloco ${i + 1}`);
          return;
        }

        if (mais === menos) {
          alert(`Você não pode selecionar a mesma letra como Mais e Menos no Bloco ${i + 1}`);
          return;
        }

        contagem[mais] += 1;
        contagem[menos] -= 1;
      }

      const perfil = Object.keys(contagem).reduce((a, b) => contagem[a] > contagem[b] ? a : b);

      const analises = {
        D: `**Dominância**\n\nPessoas com perfil D são líderes natos, orientadas a resultados e decisões rápidas.\n\n• Pontos fortes: proatividade, coragem, liderança, foco em metas.\n• Pontos de melhoria: impaciência, tendência ao controle, comunicação direta demais.\n• Estilo de comunicação: direto, objetivo, impessoal.\n• Ambientes ideais: desafiadores, com autonomia e metas claras.\n• Dica: desenvolver escuta ativa e empatia estratégica pode equilibrar sua força de decisão.`,

        I: `**Influência**\n\nPessoas com perfil I se destacam pela sociabilidade, entusiasmo e comunicação.\n\n• Pontos fortes: empatia, carisma, persuasão, otimismo.\n• Pontos de melhoria: dispersão, dificuldade com detalhes e prazos.\n• Estilo de comunicação: amigável, informal, expressivo.\n• Ambientes ideais: colaborativos, criativos, livres.\n• Dica: estruturar a comunicação e o planejamento pode aumentar sua confiabilidade.`,

        S: `**Estabilidade**\n\nPessoas com perfil S são constantes, acolhedoras e buscam harmonia.\n\n• Pontos fortes: lealdade, escuta, paciência, confiabilidade.\n• Pontos de melhoria: resistência à mudança, passividade diante de conflitos.\n• Estilo de comunicação: gentil, afetuoso, calmo.\n• Ambientes ideais: seguros, com rotina clara e apoio mútuo.\n• Dica: desenvolver posicionamento assertivo fortalece sua presença.`,

        C: `**Conformidade**\n\nPessoas com perfil C prezam pela excelência, precisão e lógica.\n\n• Pontos fortes: análise, organização, consistência, senso crítico.\n• Pontos de melhoria: perfeccionismo, lentidão na tomada de decisões, rigidez.\n• Estilo de comunicação: técnico, estruturado, reservado.\n• Ambientes ideais: bem planejados, com regras claras e padrão de qualidade.\n• Dica: trabalhar flexibilidade e tolerância ao erro pode ampliar sua influência.`
      };

      const result = `Nome: ${nome}\nEmail: ${email}\nWhatsApp: ${whatsapp}\n\nPerfil predominante: ${perfil}\n\n${analises[perfil]}`;
      document.getElementById("resultado").innerText = result;
      document.getElementById("resultado").style.display = "block";

      // Envio para Google Sheets
      fetch("https://script.google.com/macros/s/AKfycbz7F5_05OjLpLkbhuAXjOKsZi-I5uDZOV3S-bJPCjs_MeIYqCKcJpGOKeor-WRNXisF/exec", {
        method: "POST",
        body: JSON.stringify({ nome, email, whatsapp, perfil, ...contagem }),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => console.log("Enviado ao Sheets"))
      .catch(err => console.error("Erro no envio", err));
    }

    montarFormulario();
  </script>
</body>
</html>